<script type="text/javascript">
  function redirect() {
    let originalLocation = window.location.pathname;
    let location = originalLocation;
    // Redirect old wiki main page
    if (location === "/wiki/Main_Page" || location === "/wiki/Main_Page/") {
      location = "/";
    }

    // Redirect old github links
    if (location.startsWith("/burst-wiki")) {
      location = location.replace("/burst-wiki", "")
    }

    // Redirect old links
    if (location.includes("-/")) {
      location = location.replace("-/", "/")
    }
    if (location.includes("---")) {
      location = location.replace("---", "-");
    }
    if (location.includes("--")) {
      location = location.replace("--", "-");
    }

    // Redirect old wiki pages
    let regex = /\/wiki\/([A-Za-z_]+)/;
    let found = location.match(regex);
    if (found.length >= 2) {
      let page = found[1].toLowerCase();
      while (page.includes("_")) {
        page = page.replace("_", "-");
      }
      location = "/en/" + page;
    }

    // Do it!
    if (location !== originalLocation) {
      window.location.replace(location);
    }
  }
  redirect();
</script>
